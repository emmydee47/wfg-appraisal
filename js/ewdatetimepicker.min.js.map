{"version":3,"sources":["js\\ewdatetimepicker.js"],"names":["ew","dateTimePickerOptions","keepInvalid","createDateTimePicker","formid","id","options","includes","$","jQuery","el","getElement","sv","$input","namespace","tempusDominus","Namespace","NAME","dataKey","data","parent","Object","assign","inputGroup","isBoolean","debug","DEBUG","args","form","enabled","document","trigger","$textbox","isInvalid","hasClass","attr","$btn","on","removeClass","addClass","wrap","after","tooltip","e","date","val"],"mappings":";;;;AAMAA,GAAGC,sBAAwB,CACvBC,aAAa,GAIjBF,GAAGG,qBAAuB,SAASC,EAAQC,EAAIC,GAC3C,IAAID,EAAGE,SAAS,cAAhB,CAEA,IAAIC,EAAIC,OACJC,EAAKV,GAAGW,WAAWN,EAAID,GACvBQ,EAAKZ,GAAGW,WAAW,MAAQN,EAAID,GAC/BS,EAASL,EAAEI,GAAMF,GACjBI,EAAYC,cAAcC,UAAUC,KACpCC,EAAU,iBACd,GAAKR,IAAMG,EAAOM,KAAKD,KAAYL,EAAOO,SAASD,KAAKD,GAAxD,CAEAZ,EAAUe,OAAOC,OAAO,GAAItB,GAAGC,sBAAuBK,GACtD,IAAIiB,GAAaf,EAAEgB,UAAUlB,EAAQiB,aAAcjB,EAAQiB,kBACpDjB,EAAkB,WACzBA,EAAQmB,MAAQnB,EAAQmB,OAASzB,GAAG0B,MACpC,IAAIC,EAAO,CAACtB,GAAMA,EAAIuB,KAAQxB,EAAQyB,SAAW,EAAMN,WAAcA,EAAYjB,QAAWA,GAE5F,GADAE,EAAEsB,UAAUC,QAAQ,iBAAkB,CAACJ,IAClCA,EAAKE,QAAV,CAEA,IAAwB,IAApBF,EAAKJ,WAAsB,CAK3B,IAAIS,EAAWnB,EACXoB,EAAYpB,EAAOqB,SAAS,cAC5B7B,EAAK,kBAAoBD,EAAS,IAAMS,EAAOsB,KAAK,MACpDC,KAAO5B,EAAE,8FACJ6B,GAAG,SAAWnB,GAAS,WACpBc,EAASM,YAAY,iBAEjCzB,EAAO0B,SAASzB,EAAY,UAAUqB,KAAK,cAAe,IAAM9B,GAC3DmC,KAAK,0BAA0BP,EAAY,cAAgB,WAAW5B,yEACtEoC,MAAML,KAAKD,KAAK,cAAe,IAAM9B,GAAI8B,KAAK,iBAAkBjB,IAChEmB,GAAG,SAAWnB,GAAS,WACpBc,EAASU,QAAQ,QAAQA,QAAQ,cAClCL,GAAG,QAAUnB,GAAS,WACrBc,EAASU,QAAQ,aAEzB7B,EAASA,EAAOO,SAASiB,GAAG,UAAYnB,GAAS,SAASyB,GAClDA,EAAEC,MACFZ,EAASD,QAAQ,kBAIzBlB,EAAO0B,SAASrB,EAAU,UAAUiB,KAAK,iBAAkBjB,GAASiB,KAAK,cAAe,IAAMtB,EAAOsB,KAAK,OACrGE,GAAG,UAAYnB,GAAS,SAASyB,GAC1BA,EAAEC,MAAQ/B,EAAO,KAAOH,GACxBF,EAAEE,GAAImC,IAAIhC,EAAOgC,OAAOd,QAAQ,aACrCM,GAAG,SAAWnB,GAAS,WACtBL,EAAO6B,QAAQ,QAAQA,QAAQ,cAChCL,GAAG,QAAUnB,GAAS,WACrBL,EAAO6B,QAAQ,aAG3B7B,EAAOE,cAAcY,EAAKrB","sourcesContent":["/**\r\n * Create Date/Time Picker (for PHPMaker 2022)\r\n * @license Copyright (c) e.World Technology Limited. All rights reserved.\r\n */\r\n\r\n// Global options\r\new.dateTimePickerOptions = {\r\n    keepInvalid: true\r\n};\r\n\r\n// Create date/time picker\r\new.createDateTimePicker = function(formid, id, options) {\r\n    if (id.includes(\"$rowindex$\"))\r\n        return;\r\n    var $ = jQuery,\r\n        el = ew.getElement(id, formid),\r\n        sv = ew.getElement(\"sv_\" + id, formid), // AutoSuggest\r\n        $input = $(sv || el),\r\n        namespace = tempusDominus.Namespace.NAME,\r\n        dataKey = \"datetimepicker\";\r\n    if (!el || $input.data(dataKey) || $input.parent().data(dataKey))\r\n        return;\r\n    options = Object.assign({}, ew.dateTimePickerOptions, options);\r\n    var inputGroup = $.isBoolean(options.inputGroup) ? options.inputGroup : true;\r\n    delete(options.inputGroup);\r\n    options.debug = options.debug || ew.DEBUG;\r\n    var args = {\"id\": id, \"form\": formid, \"enabled\": true, \"inputGroup\": inputGroup, \"options\": options};\r\n    $(document).trigger(\"datetimepicker\", [args]);\r\n    if (!args.enabled)\r\n        return;\r\n    if (args.inputGroup !== false) {\r\n        // <div class=\"input-group date\" id=\"{id}\" data-td-target-input=\"nearest\" data-td-target-toggle=\"nearest\">\r\n        // \t<input type=\"text\" class=\"form-control td-input\" data-target=\"#{id}\"/>\r\n        // \t<button class=\"btn btn-default\" type=\"button\" data-target=\"#{id}\" data-td-toggle=\"datetimepicker\"><i class=\"far fa-calendar-alt\"></i></button>\r\n        // </div>\r\n        var $textbox = $input,\r\n            isInvalid = $input.hasClass(\"is-invalid\"),\r\n            id = \"datetimepicker_\" + formid + \"_\" + $input.attr(\"id\");\r\n            $btn = $('<button class=\"btn btn-default\" type=\"button\"><i class=\"far fa-calendar-alt\"></i></button>')\r\n                .on(\"click.\" + dataKey, function() {\r\n                    $textbox.removeClass(\"is-invalid\");\r\n                });\r\n        $input.addClass(namespace + \"-input\").attr(\"data-target\", \"#\" + id)\r\n            .wrap(`<div class=\"input-group${isInvalid ? \" is-invalid\" : \"\"}\" id=\"${id}\" data-target-input=\"nearest\" data-td-target-toggle=\"nearest\"></div>`)\r\n            .after($btn.attr(\"data-target\", \"#\" + id).attr(`data-td-toggle`, dataKey))\r\n            .on(\"focus.\" + dataKey, function() {\r\n                $textbox.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $textbox.tooltip(\"enable\");\r\n            });\r\n        $input = $input.parent().on(\"change.\" + dataKey, function(e) {\r\n            if (e.date)\r\n                $textbox.trigger(\"change\");\r\n        });\r\n    } else {\r\n        // <input type=\"text\" class=\"form-control td-input\" id=\"{id}\" data-td-toggle=\"datetimepicker\" data-target=\"#{id}\"/>\r\n        $input.addClass(dataKey + \"-input\").attr(`data-td-toggle`, dataKey).attr(\"data-target\", \"#\" + $input.attr(\"id\"))\r\n            .on(\"change.\" + dataKey, function(e) {\r\n                if (e.date && $input[0] !== el)\r\n                    $(el).val($input.val()).trigger(\"change\");\r\n            }).on(\"focus.\" + dataKey, function() {\r\n                $input.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $input.tooltip(\"enable\");\r\n            });\r\n    }\r\n    $input.tempusDominus(args.options);\r\n}\r\n"]}